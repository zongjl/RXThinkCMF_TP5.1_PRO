!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=12)}({12:function(e,t,a){a(13)},13:function(e,t){layui.define(["layer","table","laytpl","form","util","contextMenu"],function(e){var t=layui.jquery,a=layui.layer,n=layui.table,o=layui.laytpl,r=(layui.form,layui.util,layui.contextMenu),i=layui.device,l={merges:function(e,a,o,r){if(e)if(a){"boolean"==typeof o&&(r=o,o=void 0);var i=t('[lay-filter="'+e+'"]+.layui-table-view>.layui-table-box>.layui-table-body>table'),d=i.find(">tbody>tr");i.addClass("layui-table-x");for(var c=0;c<a.length;c++)u(e,a[c],o?o[c]:void 0);d.find('[del="true"]').remove(),null==r&&(r=!0),r&&n.on("sort("+e+")",function(t){l.merges(e,a,o)})}else console.warn("merge indexs not be null");else console.error("table filter not be null");function u(e,t,a){var o=n.cache[e];if(o.length>0){var r,i=1;r=a?o[0][a]:d.eq(0).find("td").eq(t).find(".layui-table-cell").html();for(var l=1;l<o.length;l++){var c;if((c=a?o[l][a]:d.eq(l).find("td").eq(t).find(".layui-table-cell").html())==r){if(i++,l==o.length-1){d.eq(l-i+1).find("td").eq(t).attr("rowspan",i);for(var u=1;u<i;u++)d.eq(l-u+1).find("td").eq(t).attr("del","true")}}else{d.eq(l-i).find("td").eq(t).attr("rowspan",i);for(u=1;u<i;u++)d.eq(l-u).find("td").eq(t).attr("del","true");i=1,r=c}}}}},exportData:function(e){var t=e.cols,o=e.data,r=e.fileName,d=e.expType,c=e.option;if(i.ie)return a.msg("不支持ie导出");if(o&&"string"==typeof o){var u=a.msg("加载中..",{icon:16,shade:.01,time:0});c.url=o,l.loadUrl(c,function(t){a.close(u),e.data=t,l.exportData(e)})}for(var s=0;s<t.length;s++)for(var f=0;f<t[s].length;f++)null==t[s][f].type&&(t[s][f].type="normal"),null==t[s][f].hide&&(t[s][f].hide=!1);var p=[],b=[],v=[];n.eachCols(void 0,function(e,t){"normal"!=t.type||t.hide||(p.push(t.title?t.title:""),b.push(t.field?t.field:"txField_"+e))},t);var h=l.parseTbData(t,l.deepClone(o),!0);for(s=0;s<h.length;s++){var m=[];for(f=0;f<b.length;f++){var y=h[s][b[f]];"string"==typeof y&&(y=y.replace(/,/g,"，")),m.push(y)}v.push(m)}var g,x,w={csv:"text/csv",xls:"application/vnd.ms-excel"}[d],C=document.createElement("a");C.href="data:"+w+";charset=utf-8,\ufeff"+encodeURIComponent((g=[],x=[],layui.each(v,function(e,t){var a=[];layui.each(p,function(t,a){0==e&&g.push(a||"")}),layui.each(n.clearCacheKey(t),function(e,t){a.push(t)}),x.push(a.join(","))}),p.join(",")+"\r\n"+v.join("\r\n"))),C.download=(r||"table")+"."+(d||"xls"),document.body.appendChild(C),C.click(),document.body.removeChild(C)},render:function(e){var a=t(e.elem).attr("lay-filter");e.autoSort=!1;var o=n.render(e);return n.on("sort("+a+")",function(a){var n=a.field,r=a.type,i=t.extend(e.where,{sort:n,order:r});o.reload({where:i,page:{curr:1}})}),o},renderFront:function(e){var o,r=t(e.elem).attr("lay-filter");e.autoSort=!1;for(var i=0;i<e.cols.length;i++)for(var d=0;d<e.cols[i].length;d++)e.cols[i][d].templet&&!e.cols[i][d].field&&(e.cols[i][d].field="txField_"+i+"_"+d);if(e.url){var c=l.deepClone(e);c.data=[],c.url="",(o=n.render(c)).reloadUrl=function(n){var i=l.deepClone(e);n&&(i=t.extend(i,n));var d=a.msg("加载中..",{icon:16,shade:.01,time:0});l.loadUrl(i,function(e){a.close(d),l.parseTbData(i.cols,e),l.putTbData(r,e),t('input[tb-search="'+r+'"]').val(""),window.tbX.cacheSearch[r]=void 0,o.reload({url:"",data:e,page:{curr:1}})})};var u=a.msg("加载中..",{icon:16,shade:.01,time:0});l.loadUrl(e,function(t){a.close(u),l.parseTbData(e.cols,t),l.putTbData(r,t),o.reload({url:"",data:t,page:{curr:1}})}),l.renderAllTool(o)}else l.parseTbData(e.cols,e.data),l.putTbData(r,e.data),o=n.render(e),l.renderAllTool(o),o.reloadData=function(a){o.reload(a),l.parseTbData(e.cols,a.data),l.putTbData(r,a.data),t('input[tb-search="'+r+'"]').val(""),window.tbX.cacheSearch[r]=void 0};return o},renderAllTool:function(e){u(e),c(e),d(e),s(e)},loadUrl:function(e,n){e.response=t.extend({statusName:"code",statusCode:0,msgName:"msg",dataName:"data",countName:"count"},e.response);e.request;var o=e.response,r=t.extend({},e.where);e.contentType&&0==e.contentType.indexOf("application/json")&&(r=JSON.stringify(r)),t.ajax({type:e.method||"get",url:e.url,contentType:e.contentType,data:r,dataType:"json",headers:e.headers||{},success:function(t){if("function"==typeof e.parseData&&(t=e.parseData(t)||t),t[o.statusName]!=o.statusCode){var r=t[o.msgName]||"返回的数据不符合规范，正确的成功状态码 ("+o.statusName+") 应为："+o.statusCode;a.msg(r,{icon:2})}else n(t[o.dataName])},error:function(e,t){a.msg("数据接口请求异常："+t,{icon:2})}})},parseTbData:function(e,a,r){var i=[];n.eachCols(void 0,function(e,a){if(a.templet){var n={field:a.field&&(r||0==a.field.indexOf("txField_"))?a.field:"txField_"+e};"string"==typeof a.templet?n.templet=function(e){var n=void 0;return o(t(a.templet).html()).render(e,function(e){n=e}),n}:n.templet=a.templet,i.push(n)}},e);for(var l=0;l<a.length;l++)for(var d=a[l],c=0;c<i.length;c++){var u="<div>"+i[c].templet(d)+"</div>";d[i[c].field]=t(u).not(".export-hide").text().replace(/(^\s*)|(\s*$)/g,"")}return a},getTbData:function(e){var t=window.tbX.cache[e];return null==t&&(t=n.cache[e]),l.deepClone(t)},putTbData:function(e,t){return window.tbX.cache[e]=t,t},bindCtxMenu:function(e,a){var o=n.cache[e],i="#"+e+"+.layui-table-view .layui-table-body tr";t(i).bind("contextmenu",function(e){for(var n=t(this),l=t(this).attr("data-index"),d=[],c=0;c<a.length;c++){var u=a[c];d.push({icon:u.icon,name:u.name,click:function(){var e=t(this).attr("lay-id");a[parseInt(e.substring(8))].click(o[l]),n.removeClass("layui-table-click")}})}return t(i).removeClass("layui-table-click"),n.addClass("layui-table-click"),r.show(d,e.clientX,e.clientY),!1})},filterData:function(e,t,a){for(var n,o=[],r=0;r<e.length;r++){var i=e[r];if(!n)if(t)n=t.split(",");else for(var d in n=[],i)n.push(d);for(var c=0;c<n.length;c++)if(l.isContains(i[n[c]],a)){o.push(i);break}}return o},isContains:function(e,t){return e||(e=""),t||(t=""),(e=e.toString().toLowerCase())==(t=t.toString().toLowerCase())||-1!=e.indexOf(t)},deepClone:function(e){var t,a=l.isClass(e);if("Object"===a)t={};else{if("Array"!==a)return e;t=[]}for(var n in e){var o=e[n];"Object"==l.isClass(o)?t[n]=arguments.callee(o):"Array"==l.isClass(o)?t[n]=arguments.callee(o):t[n]=e[n]}return t},isClass:function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}};window.tbX||(window.tbX=new Object),window.tbX.cache||(window.tbX.cache=new Object),window.tbX.cacheSearch||(window.tbX.cacheSearch=new Object);var d=function(e){var n=e.config.id,o=t('input[tb-search="'+n+'"]');o&&o.length>0&&(o.attr("placeholder")||o.attr("placeholder","输入关键字按回车键搜索"),o.off("keydown").on("keydown",function(t){if(13==t.keyCode){var r=o.attr("name"),i=o.val().replace(/(^\s*)|(\s*$)/g,""),d=a.msg("搜索中..",{icon:16,shade:.01,time:0}),c=l.getTbData(n),u=l.filterData(c,r,i);window.tbX.cacheSearch[n]=u,e.reload({url:"",data:u,page:{curr:1}}),a.close(d)}}))},c=function(e){var t=e.config.id;n.on("sort("+t+")",function(n){var o=n.field,r=n.type,i=a.msg("加载中..",{icon:16,shade:.01,time:0}),d=window.tbX.cacheSearch[t];d||(d=l.getTbData(t)),r&&(d=d.sort(function(e,t){var a=e[o],n=t[o];return"asc"==r?a==n?0:a<n?-1:1:a==n?0:a<n?1:-1})),e.reload({initSort:n,url:"",data:d,page:{curr:1}}),a.close(i)})},u=function(e){t('[tb-refresh="'+e.config.id+'"]').off("click").on("click",function(){e.reloadUrl?e.reloadUrl():e.reload({page:{curr:1}})})},s=function(e){var o=e.config.id;t('[tb-export="'+o+'"]').off("click").on("click",function(r){if(!(t(this).find(".tbx-dropdown-menu").length>0)){void 0!==r&&(r.preventDefault(),r.stopPropagation());'      <div class="tbx-dropdown-menu-item" data-type="check">导出选中数据</div>','      <div class="tbx-dropdown-menu-item" data-type="current">导出当前页数据</div>','      <div class="tbx-dropdown-menu-item" data-type="all">导出全部数据</div>',"   </div>",t(this).append('<div class="tbx-dropdown-menu">      <div class="tbx-dropdown-menu-item" data-type="check">导出选中数据</div>      <div class="tbx-dropdown-menu-item" data-type="current">导出当前页数据</div>      <div class="tbx-dropdown-menu-item" data-type="all">导出全部数据</div>   </div>'),t(this).addClass("tbx-dropdown-btn"),t(this).parent().css("position","relative"),t(this).parent().css("z-index","9998"),t(".tbx-dropdown-menu").off("click").on("click",".tbx-dropdown-menu-item",function(r){var i=t(this).data("type");if("check"==i){var d=n.checkStatus(o);0==d.data.length?a.msg("请选择要导出的数据",{icon:2}):(t(".tbx-dropdown-menu").remove(),l.exportData({fileName:e.config.title,cols:e.config.cols,data:d.data}))}else"current"==i?l.exportData({fileName:e.config.title,cols:e.config.cols,data:n.cache[o]}):"all"==i&&l.exportData({fileName:e.config.title,cols:e.config.cols,data:l.getTbData(o)});void 0!==r&&(r.preventDefault(),r.stopPropagation())})}}),t(document).off("click.tbxDropHide").on("click.tbxDropHide",function(){t(".tbx-dropdown-menu").remove()})};t("head").append("<style>.tbx-dropdown-btn {        position: relative;   }   .tbx-dropdown-btn:hover {        opacity: 1   }   .tbx-dropdown-menu {        position: absolute;        top: 100%;        right: 0;        padding: 5px 0;        margin: 5px 0 0 0;        overflow: visible;        min-width: 110px;        background: #fff;        border-radius: 2px;        box-shadow: 0 2px 4px rgba(0, 0, 0, .12);        border: 1px solid #d2d2d2;        z-index: 9998;        cursor: default;   }   .tbx-dropdown-menu .tbx-dropdown-menu-item {        display: block;        color: #555;        font-size: 14px;        padding: 10px 15px;        text-decoration: none;        white-space: nowrap;        cursor: pointer;        user-select: none;        line-height: normal;   }   .tbx-dropdown-menu .tbx-dropdown-menu-item:hover {        background-color: #eeeeee;   }   .export-show {        display: none;   }</style>"),e("tableX",l)})}});