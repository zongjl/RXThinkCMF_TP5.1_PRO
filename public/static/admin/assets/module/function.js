!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}({6:function(e,t){layui.define(["form","layer","table","common","treeTable"],function(e){var t,n,a,i,r,o=layui.form,l=layui.table,c=layui.layer,u=layui.common,d=layui.treeTable,f=layui.$,s=0,b=0,h={tableIns:function(e,o,d=null,h="",p=!1){n=o,a=d,h&&""!=h||(h=cUrl+"/index");var m=f("#param").val();if(m&&(m=JSON.parse(m),f.isArray(m)))for(var y in m)h.indexOf("?")>=0?h+="&"+m[y]:h+="?"+m[y];return t=l.render({elem:"#"+n,url:h,method:"post",cellMinWidth:150,page:{layout:["refresh","prev","page","next","skip","count","limit"],curr:1,groups:10,first:"首页",last:"尾页"},height:"full-100",limit:20,limits:[20,30,40,50,60,70,80,90,100,150,200,1e3],even:!0,cols:[e],loading:!0,done:function(e,t,n){if(r){var a=f(".layui-table-body").find("table").find("tbody");a.children("tr").on("dblclick",function(){var t=a.find(".layui-table-hover").data("index"),n=e.data[t];u.edit(i,n.id,s,b)})}}}),l.on("toolbar("+n+")",function(e){var t=l.checkStatus(e.config.id);switch(e.event){case"getCheckData":var n=t.data;c.alert(JSON.stringify(n));break;case"getCheckLength":n=t.data;c.msg("选中了："+n.length+" 个");break;case"isAll":c.msg(t.isAll?"全选":"未全选")}}),l.on("tool("+n+")",function(e){var t=e.data,n=e.event;"edit"===n?u.edit(i,t.id,s,b):"detail"===n?u.detail(i,t.id,s,b):"del"===n?u.drop(t.id,function(t,n){n&&e.del()}):"cache"===n?u.cache(t.id):"copy"===n?u.copy(i,t.id,s,b):a&&a(n,t)}),l.on("checkbox("+n+")",function(e){console.log(e.checked),console.log(e.data),console.log(e.type)}),l.on("edit("+n+")",function(e){var t=e.value,n=e.data,a=e.field,i={};i.id=n.id,i[a]=t;var r=JSON.stringify(i),o=JSON.parse(r),l=cUrl+"/update";u.ajaxPost(l,o,function(e,t){},"更新中...")}),l.on("row("+n+")",function(e){e.tr.addClass("layui-table-click").siblings().removeClass("layui-table-click");e.data}),p&&l.on("sort("+n+")",function(e){l.reload(n,{initSort:e,where:{field:e.field,order:e.type}})}),this},treetable:function(e=[],a,r=!0,o=0,l="",h=null,p=""){n=a,p||(p=cUrl+"/index"),t=d.render({elem:"#"+a,url:p,method:"POST",height:"full-50",cellMinWidth:80,tree:{iconIndex:1,idName:"id",pidName:l||"pid",isPidData:!0},cols:[e],done:function(e,t,n){c.closeAll("loading")}}),d.on("tool("+a+")",function(e){var t=e.data,n=e.event,a=t.id;"add"===n?u.edit(i,0,s,b,["pid="+a]):"edit"===n?u.edit(i,a,s,b):"del"===n?u.delete(a,function(t,n){n&&e.del()}):h&&h(n,a,0)}),f("#collapse").on("click",function(){treetable.foldAll()}),f("#expand").on("click",function(){treetable.expandAll()}),f("#refresh").on("click",function(){treetable.refresh()}),f("#search").click(function(){var e=f("#keywords").val();e?treetable.filterData(e):treetable.clearFilter()})},setWin:function(e,t=0,n=0){return i=e,s=t,b=n,this},setDbclick:function(e){return r=e||!0,this},searchForm:function(e,t){o.on("submit("+e+")",function(e){return u.searchForm(l,e,t),!1})},getCheckData:function(e){return e||(e=n),l.checkStatus(e).data},initDate:function(e,t=null){u.initDate(e,function(e,n){t&&t(e,n)})},showWin:function(e,t,n=0,a=0,i=[],r=2,o=[],l=null){u.showWin(e,t,n,a,i,r,o,function(e,t){l&&l(e,t)})},ajaxPost:function(e,t,n=null,a="处理中..."){u.ajaxPost(e,t,n,a)},formSwitch:function(e,t="",n=null){u.formSwitch(e,t,function(e,t){n&&n(e,t)})},uploadFile:function(e,t=null,n="",a="xls|xlsx",i=10240,r={}){u.uploadFile(e,function(e,n){t&&t(e,n)},n,a,i,r)}};u.verify(),o.on("submit(submitForm)",function(e){return u.submitForm(e),!1}),o.on("submit(searchForm)",function(e){return u.searchForm(l,e),!1}),f(".btnOption").click(function(){var e=f(this).attr("data-param");e&&(e=JSON.parse(e));var a=h.getCheckData(n),r=f(this).attr("lay-event");switch(r){case"add":u.edit(i,0,s,b,e);break;case"batchDrop":(o={title:"批量删除"}).url=cUrl+"/batchDrop",o.data=a,o.confirm=!0,u.batchFunc(o,function(){t.reload()});break;case"batchCache":(o={title:"批量重置缓存"}).url=cUrl+"/batchCache",o.data=a,o.confirm=!0,u.batchFunc(o,function(){t.reload()});break;case"batchEnable":(o={title:"批量启用状态"}).url=cUrl+"/batchStatus",o.param=e,o.data=a,o.form="submitForm",o.confirm=!0,o.show_tips="处理中...",u.batchFunc(o,function(){t.reload()});break;case"batchDisable":var o;(o={title:"批量禁用状态"}).url=cUrl+"/batchStatus",o.param=e,o.data=a,o.confirm=!0,u.batchFunc(o,function(){t.reload()});break;case"export":c.msg("导出"),location.href=cUrl+"/btn"+r.substring(0,1).toUpperCase()+r.substring(1);break;case"import":u.uploadFile("import",function(e,t){})}}),window.formClose=function(){var e=parent.layer.getFrameIndex(window.name);parent.layer.close(e)},e("function",h)})}});